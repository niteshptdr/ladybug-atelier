{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="flex justify-center items-center">
    <div class="max-w-md w-full bg-white/85 shadow-xl rounded-lg p-8">
        <img src="{% static 'images/Ladybug_trns.png' %}" alt="Logo" class="h-20 sm:h-20 ms-1 rounded p-0 {% block logo_bg %}{% endblock %}">

        <h2 class="text-3xl font-bold text-gray-800 text-center mt-6">Welcome!</h2>
        <p class="text-sm text-gray-600 text-center mb-6">
            Enter your mobile number to login.
        </p>

        <!-- Email Form to trigger OTP sending -->
        <form method="POST" action="{% url 'login' %}" class="space-y-4">
            {% csrf_token %}
            
            <div class="relative">

                <label for="mobile" class="block text-gray-700 font-medium mb-2">Mobile Number</label>
                <div class="flex rounded-md shadow-sm">
                    <span class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-100 text-gray-600 text-sm">
                    +91
                    </span>
                    <input
                    id="mobile"
                    name="mobile"
                    type="text"
                    maxlength="10"
                    pattern="\d{10}"
                    class="w-full border-2 border-gray-300 rounded-r-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400 bg-gray-50"
                    placeholder="10-digit mobile number"
                    required
                    />
                </div>

            </div>

            <div class="flex justify-center items-center">
                <button type="submit" class="inline-block px-10 py-2 text-sm font-medium text-white border-2 border-gray-200 rounded-full bg-pink-600 transition-colors duration-500 ease-in-out hover:bg-cyan-600 hover:text-white focus:outline-none">
                    Send OTP
                </button>
            </div>
        </form>

        <!-- Success or error message display -->
        {% if messages %}
        <div class="mt-4">
            {% for message in messages %}
                <div class="text-sm px-3 py-2 mb-2 rounded border 
                            {% if 'error' in message.tags %}
                                text-red-700 bg-red-100 border-red-300
                            {% elif 'success' in message.tags %}
                                text-green-700 bg-green-100 border-green-300
                            {% elif 'warning' in message.tags %}
                                text-yellow-700 bg-yellow-100 border-yellow-300
                            {% else %}
                                text-blue-700 bg-blue-100 border-blue-300
                            {% endif %}">
                    {{ message }}
                </div>
            {% endfor %}
        </div>
        {% endif %}

        <div class="mt-6 text-center text-gray-500">
            <p>Don't have an account? <a href="{% url 'register' %}" class="text-blue-600 hover:underline">Register here</a></p>
        </div>
    </div>

    <div class="h-screen">
        <p></p>
    </div>

</div>

{% endblock %}
