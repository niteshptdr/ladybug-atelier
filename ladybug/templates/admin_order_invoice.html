{% extends "base.html" %}
{% block content %}


<div class="max-w-5xl mx-auto bg-white shadow-2xl rounded-2xl overflow-hidden">
  <!-- Header -->
  <div class="flex justify-between items-start bg-gradient-to-r from-rose-600 to-pink-500 text-white p-8">
    <div>
      <h1 class="text-3xl font-extrabold tracking-wide">INVOICE</h1>
      <p class="text-sm opacity-90">Order #{{ order.id }}</p>
      <p class="text-sm opacity-90">Date: {{ order.order_date|date:"d M Y, H:i" }}</p>
    </div>
    <div class="text-right">
      <h2 class="text-2xl font-bold">Ladybug Boutique</h2>
      <p class="text-sm">123 Street, City</p>
      <p class="text-sm">+91-9876543210</p>
      <p class="text-sm">support@ladybug-customs.com</p>
    </div>
  </div>

  <!-- Body -->
  <div class="p-10 space-y-8">
    <!-- Customer / Payment Info -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
      <div>
        <h3 class="text-lg font-semibold text-gray-700 mb-2">Billed To</h3>
        <div class="text-sm text-gray-600 leading-relaxed">
          <p class="font-medium">{{ order.user.name }}</p>
          <p>{{ order.house }} {{ order.building }}</p>
          <p>{{ order.street }}, {{ order.area }}</p>
          <p>{{ order.city }}, {{ order.state }} - {{ order.zip_code }}</p>
          <p>Mobile: {{ order.mobile }}</p>
        </div>
      </div>
      <div class="text-left md:text-right">
        <h3 class="text-lg font-semibold text-gray-700 mb-2">Payment</h3>
        <p class="text-sm text-gray-600">Method: {{ order.get_payment_status_display }}</p>
        <p class="text-sm text-gray-600">
          Status:
          <span class="px-2 py-1 rounded-full text-xs font-medium
            {% if order.payment_status == 'paid' %} bg-green-100 text-green-700
            {% elif order.payment_status == 'failed' %} bg-red-100 text-red-700
            {% else %} bg-yellow-100 text-yellow-700 {% endif %}">
            {{ order.get_payment_status_display }}
          </span>
        </p>
        <p class="text-sm text-gray-600">Order Status: {{ order.get_status_display }}</p>
      </div>
    </div>

    <!-- Items Table -->
    <div class="overflow-x-auto">
      <table class="w-full text-sm border border-gray-200 rounded-lg overflow-hidden">
        <thead>
          <tr class="bg-gray-100 text-gray-700">
            <th class="px-4 py-3 text-left">Item</th>
            <th class="px-4 py-3 text-center">Qty</th>
            <th class="px-4 py-3 text-center">Unit Price</th>
            <th class="px-4 py-3 text-center">Total</th>
          </tr>
        </thead>
        <tbody>
          {% for item in invoice_items %}
          <tr class="border-t hover:bg-gray-50 transition">
            <td class="px-4 py-3 font-medium text-gray-800">{{ item.name }}</td>
            <td class="px-4 py-3 text-center">{{ item.quantity }}</td>
            <td class="px-4 py-3 text-center">₹{{ item.unit_price }}</td>
            <td class="px-4 py-3 text-center font-semibold">₹{{ item.line_total }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>

    <!-- Totals -->
    <div class="flex justify-end">
      <div class="w-full sm:w-1/3 bg-gray-50 rounded-lg p-5 shadow-inner">
        <div class="flex justify-between py-2 text-gray-700">
          <span>Subtotal</span>
          <span>₹{{ order.total_amount }}</span>
        </div>
        <div class="flex justify-between py-2 border-t text-gray-700">
          <span>Tax (0%)</span>
          <span>₹0.00</span>
        </div>
        <div class="flex justify-between py-2 border-t text-lg font-bold text-gray-900">
          <span>Total</span>
          <span>₹{{ order.total_amount }}</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <div class="bg-gray-100 text-center p-6">
    <p class="italic text-gray-600">“Where Every Stitch is Just for You”</p>
    <p class="mt-2 text-sm text-gray-500">Thank you for shopping with <span class="text-rose-600 font-semibold">Ladybug Boutique</span>!</p>
    <p class="text-sm text-gray-500">For queries: <a href="mailto:support@ladybug-customs.com" class="text-rose-600 underline">support@ladybug-customs.com</a></p>
  </div>
</div>



{% endblock %}